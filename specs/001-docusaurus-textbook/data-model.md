# Data Model: Physical AI Textbook

**Version**: 1.0 | **Date**: 2025-11-30 | **Status**: Active

This document defines the content entities and their relationships for the Physical AI textbook.

---

## Entity Definitions

### Chapter

**Description**: Top-level content unit for a module

**Fields**:
- `id`: Unique identifier (e.g., "ch1-ros2-basics")
- `title`: Display name (e.g., "ROS 2 Basics")
- `module`: Parent module (e.g., "module-1")
- `number`: Chapter number within module (1, 2, 3)
- `learning_objectives`: List of Bloom's objectives
- `sections`: List of Section entities
- `code_examples`: List of CodeExample entities
- `exercises`: List of Exercise entities
- `summary`: Summary content (generated by summary-generator skill)
- `reading_time_minutes`: Estimated time to read (15-30)
- `word_count`: Target 1,500-2,000 words

**Location**: `book/docs/module-1/ch[N]-[slug]/index.md`

**Skills/Subagents Used**:
- `learning-objectives`: Generate objectives
- `code-explainer`: Annotate code
- `exercise-designer`: Create exercises
- `summary-generator`: Generate summary
- `content-evaluation-framework`: Evaluate quality

**Quality Criteria**:
- All sections written and reviewed
- All code examples tested and working
- All exercises have solutions and validation
- Content evaluation score ≥80%

---

### Section

**Description**: Subsection within a chapter

**Fields**:
- `id`: Unique identifier (e.g., "sec-01-nodes-and-graph")
- `chapter_id`: Parent chapter ID
- `number`: Section number within chapter (01, 02, 03)
- `title`: Display name (e.g., "Nodes and the Graph")
- `content`: Markdown content (0.5-1 page)
- `code_examples`: List of CodeExample IDs used in section
- `diagrams`: List of diagram files
- `learning_outcomes`: What student should learn from this section

**Location**: `book/docs/module-1/ch[N]-[slug]/[NN]-[slug].md`

**Content Guidelines**:
- Clear explanation with examples
- Include diagram or screenshot
- Reference at least one code example
- End with "Try it yourself" prompt

---

### CodeExample

**Description**: Runnable ROS 2 code demonstrating a concept

**Fields**:
- `id`: Unique identifier (e.g., "hello-world-py")
- `title`: Display name (e.g., "Hello, ROS 2!")
- `concept`: Primary concept taught (e.g., "Node creation")
- `package_name`: ROS 2 package name (e.g., "hello_world_py")
- `package_location`: Path to code (e.g., "code-examples/ros2_packages/hello_world_py/")
- `language`: "python" | "cpp"
- `difficulty`: "beginner" | "intermediate" | "advanced"
- `files`: List of code files in package
- `explanation`: Annotated code with pedagog comments
- `build_command`: How to build (e.g., "colcon build")
- `run_command`: How to run (e.g., "ros2 run hello_world_py hello_node")
- `expected_output`: Example console output
- `prerequisite_concepts`: Required knowledge (e.g., ["ROS 2 basics", "Python"])
- `related_exercise`: Exercise ID that uses this code (if applicable)
- `tested_on`: ROS 2 version tested (e.g., "Humble 22.04")

**Location**: `code-examples/ros2_packages/[package-name]/`

**Skills/Subagents Used**:
- `ros2-code-generator`: Generate code
- `urdf-designer`: If this is a URDF example
- `code-explainer`: Annotate with pedagog comments

**Quality Criteria**:
- Code builds without errors
- Code runs without crashes
- Output matches specification
- Follows ROS 2 style guide
- Includes comprehensive comments

---

### Exercise

**Description**: Hands-on practice activity with progressive difficulty

**Fields**:
- `id`: Unique identifier (e.g., "ex1-custom-publisher")
- `chapter_id`: Parent chapter ID
- `number`: Exercise number within chapter (1, 2, 3)
- `title`: Display name (e.g., "Create a Custom Publisher")
- `difficulty`: "beginner" | "intermediate" | "advanced"
- `task_description`: Clear objective statement
- `instructions`: Step-by-step guide (without giving answer)
- `hints`: 2-3 hints at increasing specificity (collapsed)
- `solution_code`: Full solution implementation
- `solution_explanation`: Why solution works
- `validation_checklist`: How to verify correctness
- `common_mistakes`: Pitfalls students make
- `time_estimate_minutes`: 10-15 | 15-30 | 30-45
- `related_code_examples`: CodeExample IDs that help solve this
- `extensions`: Optional challenges for advanced learners
- `bloom_level`: "remember" | "understand" | "apply" | "analyze" | "evaluate" | "create"

**Location**: `book/docs/module-1/ch[N]-[slug]/exercises.md`

**Skills/Subagents Used**:
- `exercise-designer`: Create exercises with pedagog progression

**Quality Criteria**:
- Clear task statement
- Solution provided and tested
- Validation checklist works
- Common mistakes documented
- Extensions available for advanced learners

---

### Summary

**Description**: Chapter summary with key takeaways

**Fields**:
- `chapter_id`: Parent chapter ID
- `key_takeaways`: 3-5 main concepts learned
- `mental_models`: Diagrams or frameworks
- `common_mistakes`: Pitfalls from content-evaluation-framework
- `next_steps`: How this connects to next chapter
- `review_questions`: 3-5 questions to test understanding
- `further_reading`: Links to external resources

**Location**: `book/docs/module-1/ch[N]-[slug]/summary.md`

**Skills/Subagents Used**:
- `summary-generator`: Generate from chapter content
- `content-evaluation-framework`: Extract common mistakes

---

### LearningObjective

**Description**: Learning outcome mapped to Bloom's taxonomy

**Fields**:
- `chapter_id`: Parent chapter ID
- `bloom_level`: "remember" | "understand" | "apply" | "analyze" | "evaluate" | "create"
- `statement`: "Students will be able to [verb] [concept]"
- `concept`: Core concept being learned (e.g., "ROS 2 nodes")
- `measurable_criteria`: How to verify students achieved this
- `assessment_method`: "exercise" | "code-example" | "discussion" | "project"

**Location**: `book/docs/module-1/ch[N]-[slug]/learning-objectives.md`

**Skills/Subagents Used**:
- `learning-objectives`: Generate objectives aligned with Bloom's

**Example**:
- Bloom Level: "Apply"
- Statement: "Students will be able to create a custom ROS 2 node that publishes to a topic"
- Concept: "Node creation, publishers, topics"
- Criteria: "Node builds with colcon, runs without errors, publishes to specified topic"
- Assessment: Exercise 1 or Code Example 1

---

## Entity Relationships

```
Module
  └── Chapter (1:N)
        ├── Section (1:N)
        │     ├── CodeExample (0:N)
        │     └── Diagrams (0:N)
        ├── CodeExample (0:N)
        ├── Exercise (1:N)
        ├── LearningObjective (1:N)
        └── Summary (0:1)
```

**Relationships**:

1. **Chapter → CodeExample**: 1 chapter can have 0-N code examples
   - Example: Chapter 1 has 3 code examples (hello_world, pub_sub, service)
   - Reverse: CodeExample belongs to 1 chapter (or shared across chapters via reference)

2. **Chapter → Exercise**: 1 chapter has 1-N exercises
   - Example: Chapter 1 has 3 exercises with solutions
   - Reverse: Exercise belongs to 1 chapter

3. **Section → CodeExample**: 1 section references 0-N code examples
   - Example: Section "Topics" demonstrates 1 code example (pub_sub)
   - Reverse: CodeExample can be referenced by multiple sections

4. **Exercise → CodeExample**: Exercise may reference related code examples
   - Example: Exercise 1 builds on Code Example 1 learned earlier
   - Reverse: CodeExample may be prerequisite for multiple exercises

5. **Chapter → LearningObjective**: 1 chapter has 1-N learning objectives
   - Example: Chapter 1 has 5 Bloom's objectives (remember through apply)
   - Reverse: Learning objective belongs to 1 chapter

6. **Chapter → Summary**: 1 chapter has 0-1 summary
   - Example: Chapter 1 has 1 generated summary
   - Reverse: Summary belongs to 1 chapter

---

## Content Lifecycle

**Phase 1: Research**
```
Learning Objectives (Bloom's)
  ↓
Code Generation (ros2-code-generator)
  ↓
Code Annotation (code-explainer)
```

**Phase 2: Authoring**
```
Chapter Sections Written
  ↓
Code Examples Integrated
  ↓
Exercises Created (exercise-designer)
  ↓
Summary Generated (summary-generator)
```

**Phase 3: Validation**
```
Quality Evaluation (content-evaluation-framework)
  ↓
(If score < 80%: Iterate on content)
  ↓
Peer Review
  ↓
Published
```

---

## Metadata & Quality Attributes

### Content Quality Metrics

**Tracked per Chapter**:
- `content_evaluation_score`: 0-100 (target ≥80%)
- `peer_review_status`: "pending" | "in-progress" | "approved"
- `last_updated`: ISO date
- `version`: 1.0, 1.1, etc.

**Tracked per CodeExample**:
- `build_status`: "passing" | "failing"
- `execution_status`: "passing" | "failing"
- `last_tested`: ISO date
- `tested_on_ros_version`: "Humble 22.04"

**Tracked per Exercise**:
- `solution_validated`: true | false
- `common_mistakes_verified`: true | false
- `extensions_created`: true | false

---

## Validation Rules

**Content Completeness**:
- Every chapter must have ≥1 section
- Every chapter must have ≥3 code examples
- Every chapter must have ≥3 exercises
- Every chapter must have a summary

**Code Quality**:
- All code examples must build with `colcon build`
- All code examples must run without crashes
- All code examples must be annotated with pedagog comments
- All code examples must have expected output documented

**Exercise Quality**:
- All exercises must have clear task descriptions
- All exercises must have complete solutions
- All exercises must have validation checklists
- All exercises must have common mistakes documented

**Documentation**:
- All chapters must have ≥2 diagrams or screenshots
- All sections must have ≥1 "Try it yourself" prompt
- All code examples must have line-by-line explanations
- All exercises must have hints for stuck students

---

## Storage & Format

**Markdown Format**:
- Chapters: `*.md` files in `book/docs/module-1/`
- Frontmatter metadata (YAML):
  ```yaml
  ---
  title: Chapter Title
  chapter: 1
  learning_time: 25 minutes
  ---
  ```

**Code Packages**:
- Location: `code-examples/ros2_packages/[package-name]/`
- Structure: Standard ROS 2 Python/C++ package
  ```
  package-name/
    ├── package.xml
    ├── setup.py
    ├── package_name/
    │   ├── __init__.py
    │   └── node.py
    └── launch/
        └── display.launch.py
  ```

**Images/Diagrams**:
- Location: `book/static/img/ch[N]/`
- Format: PNG, SVG, WebP (optimized)
- Naming: `[chapter]-[name].png`

---

## Evolution & Versioning

**Phase 1** (Current):
- Module 1 only (3 chapters)
- Chapters 1-3 with learning objectives, code examples, exercises
- Data model v1.0

**Phase 2** (Future):
- Add Chapters 4-5 to Module 1
- Add Module 2 (3-5 chapters)
- Extend data model for chatbot interactions
- Add `CodeQuestion` entity for RAG chatbot

**Phase 3** (Future):
- Add Modules 3-4
- Add `PersonalizationProfile` for user tracking
- Add `MultilingualContent` for Urdu translation
- Extend data model for user preferences

---

## References

- Bloom's Taxonomy: [Anderson & Krathwohl, 2001]
- ROS 2 Style Guide: [Official ROS 2 Docs]
- Pedagogical Content Knowledge: [Shulman, 1987]
