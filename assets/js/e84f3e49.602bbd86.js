"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[9087],{8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>t});var s=i(6540);const r={},l=s.createContext(r);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:n},e.children)}},9448:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"module-1/ch2-urdf/visualization","title":"Section 3 - Visualizing Robots","description":"Estimated Reading Time: 9 minutes","source":"@site/docs/module-1/ch2-urdf/03-visualization.md","sourceDirName":"module-1/ch2-urdf","slug":"/module-1/ch2-urdf/visualization","permalink":"/physical-ai-textbook/docs/module-1/ch2-urdf/visualization","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1/ch2-urdf/03-visualization.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Section 3 - Visualizing Robots"},"sidebar":"tutorialSidebar","previous":{"title":"Section 2 - Gazebo Properties","permalink":"/physical-ai-textbook/docs/module-1/ch2-urdf/gazebo-properties"},"next":{"title":"Chapter 2 Exercises","permalink":"/physical-ai-textbook/docs/module-1/ch2-urdf/exercises"}}');var r=i(4848),l=i(8453);const o={title:"Section 3 - Visualizing Robots"},t="Section 3: Visualizing Robots",a={},d=[{value:"From URDF File to 3D Visualization",id:"from-urdf-file-to-3d-visualization",level:2},{value:"RViz: Visualizing Robot Structure",id:"rviz-visualizing-robot-structure",level:2},{value:"Launching RViz with Your Robot",id:"launching-rviz-with-your-robot",level:3},{value:"What You&#39;ll See",id:"what-youll-see",level:3},{value:"Interacting with RViz",id:"interacting-with-rviz",level:3},{value:"Understanding Coordinate Frames (TF)",id:"understanding-coordinate-frames-tf",level:2},{value:"What are Frames?",id:"what-are-frames",level:3},{value:"Visualizing TF in RViz",id:"visualizing-tf-in-rviz",level:3},{value:"Debugging Frame Issues",id:"debugging-frame-issues",level:3},{value:"Visualization Errors and Fixes",id:"visualization-errors-and-fixes",level:2},{value:"Error 1: URDF Won&#39;t Load",id:"error-1-urdf-wont-load",level:3},{value:"Error 2: Robot Doesn&#39;t Appear in RViz",id:"error-2-robot-doesnt-appear-in-rviz",level:3},{value:"Error 3: Joint Rotates Wrong Direction",id:"error-3-joint-rotates-wrong-direction",level:3},{value:"Error 4: Collision Geometry Doesn&#39;t Match Visual",id:"error-4-collision-geometry-doesnt-match-visual",level:3},{value:"Gazebo: Physics Simulation",id:"gazebo-physics-simulation",level:2},{value:"Launching Gazebo with Your Robot",id:"launching-gazebo-with-your-robot",level:3},{value:"What Happens in Gazebo",id:"what-happens-in-gazebo",level:3},{value:"Gazebo vs. RViz",id:"gazebo-vs-rviz",level:3},{value:"Debugging in Gazebo",id:"debugging-in-gazebo",level:3},{value:"Visualizing the Humanoid Robot",id:"visualizing-the-humanoid-robot",level:2},{value:"Common Visualization Issues",id:"common-visualization-issues",level:2},{value:"Issue: All Links Appear at Origin",id:"issue-all-links-appear-at-origin",level:3},{value:"Issue: Robot Has Floating/Broken Appearance",id:"issue-robot-has-floatingbroken-appearance",level:3},{value:"Debugging Workflow",id:"debugging-workflow",level:2},{value:"Mental Model: From URDF to Screen",id:"mental-model-from-urdf-to-screen",level:2},{value:"Try It Yourself",id:"try-it-yourself",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next: Hands-On Exercises",id:"next-hands-on-exercises",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"section-3-visualizing-robots",children:"Section 3: Visualizing Robots"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Estimated Reading Time"}),": 9 minutes\n",(0,r.jsx)(n.strong,{children:"Bloom's Level"}),": Apply, Analyze\n",(0,r.jsx)(n.strong,{children:"Key Learning"}),": RViz visualization, debugging URDF issues"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"from-urdf-file-to-3d-visualization",children:"From URDF File to 3D Visualization"}),"\n",(0,r.jsxs)(n.p,{children:["You've created URDF files with links, joints, and physics properties. But how do you actually ",(0,r.jsx)(n.strong,{children:"see"})," your robot?"]}),"\n",(0,r.jsx)(n.p,{children:"Two tools do this:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RViz"})," (Visualization): Shows 3D robot structure, TF frames, sensor data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gazebo"})," (Simulation): Simulates physics, gravity, collisions"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Both read the URDF file and render the robot in 3D."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"rviz-visualizing-robot-structure",children:"RViz: Visualizing Robot Structure"}),"\n",(0,r.jsx)(n.h3,{id:"launching-rviz-with-your-robot",children:"Launching RViz with Your Robot"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Method 1: Using a launch file (easiest)\nros2 launch simple_robot_description display.launch.py\n\n# Method 2: Manual launch\nros2 run robot_state_publisher robot_state_publisher --ros-args -p robot_description:="$(cat simple_robot.urdf)"\nros2 run joint_state_publisher_gui joint_state_publisher_gui\nros2 run rviz2 rviz2\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The launch file does ",(0,r.jsx)(n.strong,{children:"three things"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"robot_state_publisher"}),": Publishes TF transforms from URDF"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"joint_state_publisher_gui"}),": Let you move joints with sliders"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rviz2"}),": Visualizes everything in 3D"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"what-youll-see",children:"What You'll See"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"RViz window\n\u251c\u2500 3D view: Your robot rendered in 3D\n\u251c\u2500 Sliders: Move each joint\n\u251c\u2500 TF tree: Shows frame hierarchy\n\u2514\u2500 Property panel: Configure visualization\n"})}),"\n",(0,r.jsx)(n.h3,{id:"interacting-with-rviz",children:"Interacting with RViz"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Navigation"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Left click + drag"}),": Rotate view"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Middle click + drag"}),": Pan view"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scroll wheel"}),": Zoom in/out"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Joint Control"})," (with GUI):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sliders"}),": Move each joint angle"]}),"\n",(0,r.jsx)(n.li,{children:"Watch the robot move in real-time"}),"\n",(0,r.jsx)(n.li,{children:"Verify that joint axes are correct"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"understanding-coordinate-frames-tf",children:"Understanding Coordinate Frames (TF)"}),"\n",(0,r.jsx)(n.h3,{id:"what-are-frames",children:"What are Frames?"}),"\n",(0,r.jsxs)(n.p,{children:["Every link in your URDF has a ",(0,r.jsx)(n.strong,{children:"coordinate frame"}),"\u2014a 3D origin point with axes (X, Y, Z)."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Base Link Frame\n    \u2193 (origin)\n    X (red) \u2192 right\n    Y (green) \u2192 forward\n    Z (blue) \u2192 up\n"})}),"\n",(0,r.jsxs)(n.p,{children:["ROS 2 maintains the relationship between all frames using ",(0,r.jsx)(n.strong,{children:"TF (Transform Framework)"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"visualizing-tf-in-rviz",children:"Visualizing TF in RViz"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Launch RViz with your robot"}),"\n",(0,r.jsxs)(n.li,{children:["In left panel: ",(0,r.jsx)(n.strong,{children:"Add"})," \u2192 ",(0,r.jsx)(n.strong,{children:"By topic"})," \u2192 ",(0,r.jsx)(n.strong,{children:"/tf_static"})," (or ",(0,r.jsx)(n.strong,{children:"/tf"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:['In left panel: Check "',(0,r.jsx)(n.strong,{children:"TF"}),'" checkbox']}),"\n",(0,r.jsx)(n.li,{children:"In the 3D view, you'll see coordinate axes at each joint"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What you see"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Red arrow: X-axis"}),"\n",(0,r.jsx)(n.li,{children:"Green arrow: Y-axis"}),"\n",(0,r.jsx)(n.li,{children:"Blue arrow: Z-axis"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Each axis pair shows that frame's origin and orientation."}),"\n",(0,r.jsx)(n.h3,{id:"debugging-frame-issues",children:"Debugging Frame Issues"}),"\n",(0,r.jsx)(n.p,{children:"If your robot looks wrong:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u274c Robot is upside down"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check Z-axis (blue) in base_link. Should point UP, not down."}),"\n",(0,r.jsx)(n.li,{children:"Fix: Adjust origin or joint axes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u274c Robot appears stretched"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Some joint axes might be pointing wrong direction"}),"\n",(0,r.jsx)(n.li,{children:"Check that revolute joint axes align with visual geometry"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u274c Links overlap weirdly"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check origin values (xyz) for each link"}),"\n",(0,r.jsx)(n.li,{children:"Verify parent-child relationships make sense"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"visualization-errors-and-fixes",children:"Visualization Errors and Fixes"}),"\n",(0,r.jsx)(n.h3,{id:"error-1-urdf-wont-load",children:"Error 1: URDF Won't Load"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Error: Failed to load URDF\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"XML syntax error (missing closing tag)"}),"\n",(0,r.jsx)(n.li,{children:"Missing parent/child link definition"}),"\n",(0,r.jsx)(n.li,{children:"File path doesn't exist"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"check_urdf simple_robot.urdf\n# Shows exactly where the error is\n"})}),"\n",(0,r.jsx)(n.h3,{id:"error-2-robot-doesnt-appear-in-rviz",children:"Error 2: Robot Doesn't Appear in RViz"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"RViz empty 3D window (no robot)\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"robot_state_publisher"})," not running"]}),"\n",(0,r.jsx)(n.li,{children:"TF frames not being published"}),"\n",(0,r.jsx)(n.li,{children:"URDF has zero-sized links"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Check if robot_state_publisher is running\nros2 topic list | grep tf\n\n# Manually start it\nros2 run robot_state_publisher robot_state_publisher \\\n  --ros-args -p robot_description:="$(cat simple_robot.urdf)"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"error-3-joint-rotates-wrong-direction",children:"Error 3: Joint Rotates Wrong Direction"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Expected: Move elbow up/down\nActual: Moves left/right\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Joint axis points wrong direction"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Check the ",(0,r.jsx)(n.code,{children:"<axis>"})," tag:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u274c Wrong: Rotates side-to-side --\x3e\n<axis xyz="1 0 0"/>  \x3c!-- X-axis --\x3e\n\n\x3c!-- \u2705 Correct: Rotates up/down --\x3e\n<axis xyz="0 1 0"/>  \x3c!-- Y-axis --\x3e\n'})}),"\n",(0,r.jsx)(n.h3,{id:"error-4-collision-geometry-doesnt-match-visual",children:"Error 4: Collision Geometry Doesn't Match Visual"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"RViz shows a thin box, but collision sphere blocks movement\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Visual and collision geometries are too different"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Keep them similar (or identical):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<visual>\n  <geometry>\n    <box size="0.1 0.1 0.4"/>  \x3c!-- 1m long box --\x3e\n  </geometry>\n</visual>\n\n<collision>\n  <geometry>\n    <box size="0.1 0.1 0.4"/>  \x3c!-- Same as visual --\x3e\n  </geometry>\n</collision>\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"gazebo-physics-simulation",children:"Gazebo: Physics Simulation"}),"\n",(0,r.jsx)(n.h3,{id:"launching-gazebo-with-your-robot",children:"Launching Gazebo with Your Robot"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# With Gazebo\nros2 launch simple_robot_description display.launch.py use_gazebo:=true\n\n# Gazebo window opens showing your robot\n"})}),"\n",(0,r.jsx)(n.h3,{id:"what-happens-in-gazebo",children:"What Happens in Gazebo"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Physics"}),": Gravity pulls robot down"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Collision"}),": Links can't pass through objects"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Motors"}),": Joints can move with simulated forces"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sensors"}),": Simulated lidar, camera, etc."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"gazebo-vs-rviz",children:"Gazebo vs. RViz"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"RViz"}),(0,r.jsx)(n.th,{children:"Gazebo"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Visualization"})}),(0,r.jsx)(n.td,{children:"\u2705 Yes"}),(0,r.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Physics"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Gravity"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Collisions"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Joint Control"})}),(0,r.jsx)(n.td,{children:"\u2705 Via GUI"}),(0,r.jsx)(n.td,{children:"\u2705 Via ROS 2 commands"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Sensor Simulation"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"\u2705 Yes"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"debugging-in-gazebo",children:"Debugging in Gazebo"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Robot falls through the ground"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cause: Bad collision geometry or bad inertia"}),"\n",(0,r.jsxs)(n.li,{children:["Fix: Check ",(0,r.jsx)(n.code,{children:"<collision>"})," shapes and ",(0,r.jsx)(n.code,{children:"<inertia>"})," values"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Robot vibrates or explodes"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cause: Inertia values too small"}),"\n",(0,r.jsx)(n.li,{children:"Fix: Increase inertia matrix values"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Joint moves but doesn't look right"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cause: Collision geometry blocking movement"}),"\n",(0,r.jsx)(n.li,{children:"Fix: Simplify collision shapes or increase joint limits"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"visualizing-the-humanoid-robot",children:"Visualizing the Humanoid Robot"}),"\n",(0,r.jsx)(n.p,{children:"The humanoid robot is more complex\u2014let's understand its structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"            head (sphere)\n             \u2193 (neck_joint)\n          base_link (torso)\n          /      \\\n    l_shoulder  r_shoulder\n      \u2193           \u2193\n   l_upper_arm  r_upper_arm\n      \u2193           \u2193\n   l_elbow      r_elbow\n      \u2193           \u2193\n   l_lower_arm  r_lower_arm\n      \u2193           \u2193\n    l_hand      r_hand\n"})}),"\n",(0,r.jsx)(n.p,{children:"To visualize the humanoid:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Set up the robot description\nexport ROBOT_URDF="humanoid.urdf"\n\n# Launch RViz\nros2 launch humanoid_robot_description display.launch.py\n\n# In RViz:\n# 1. Look at the left panel (tree view)\n# 2. You should see: world \u2192 base_link \u2192 head, l_shoulder, r_shoulder, l_hip, r_hip\n# 3. Use sliders to move each joint\n# 4. Watch how child links move with parents\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"common-visualization-issues",children:"Common Visualization Issues"}),"\n",(0,r.jsx)(n.h3,{id:"issue-all-links-appear-at-origin",children:"Issue: All Links Appear at Origin"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": All robot parts appear stacked at (0, 0, 0)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Missing ",(0,r.jsx)(n.code,{children:"<origin>"})," tags in joints"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example of problem"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<joint name="shoulder_joint" type="revolute">\n  <parent link="torso"/>\n  <child link="arm"/>\n  \x3c!-- \u274c Missing: <origin xyz="0.15 0 0" rpy="0 0 0"/> --\x3e\n  <axis xyz="0 1 0"/>\n</joint>\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Add origin to specify where joint connects"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<joint name="shoulder_joint" type="revolute">\n  <parent link="torso"/>\n  <child link="arm"/>\n  \x3c!-- \u2705 Specifies arm starts 0.15m to the side --\x3e\n  <origin xyz="0.15 0 0" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n</joint>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"issue-robot-has-floatingbroken-appearance",children:"Issue: Robot Has Floating/Broken Appearance"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": Links look disconnected or floating"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Joint parent/child order is wrong"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Check parent/child links exist:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List all links\ngrep '<link name' simple_robot.urdf\n\n# List all joints and check parent/child\ngrep -A 2 '<joint name' simple_robot.urdf | grep -E 'parent|child'\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"debugging-workflow",children:"Debugging Workflow"}),"\n",(0,r.jsx)(n.p,{children:"When something looks wrong:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 1"}),": Validate URDF syntax"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"check_urdf humanoid.urdf\n# Should output: OK\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 2"}),": Visualize in RViz"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 launch humanoid_robot_description display.launch.py\n# Look for missing parts, strange positions, or disconnected links\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 3"}),": Enable TF visualization"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In RViz: Add \u2192 By topic \u2192 ",(0,r.jsx)(n.strong,{children:"/tf"})]}),"\n",(0,r.jsx)(n.li,{children:"Look at coordinate frame axes"}),"\n",(0,r.jsx)(n.li,{children:"Check if they align with visual geometry"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 4"}),": Test in Gazebo"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 launch humanoid_robot_description display.launch.py use_gazebo:=true\n# Watch if robot falls realistically\n# Check if joints move smoothly\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 5"}),": Check console for error messages"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ROS 2 logs show problems"}),"\n",(0,r.jsx)(n.li,{children:"Look for warnings about missing frames or bad inertia"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"mental-model-from-urdf-to-screen",children:"Mental Model: From URDF to Screen"}),"\n",(0,r.jsx)(n.p,{children:"Here's how URDF becomes a 3D visualization:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"simple_robot.urdf (XML file)\n        \u2193\n   URDF Parser\n        \u2193\n  Robot Model\n  \u251c\u2500 base_link (2.0 kg box)\n  \u251c\u2500 link_1 (0.8 kg box)\n  \u251c\u2500 link_2 (0.3 kg box)\n  \u2514\u2500 Joints (connect them)\n        \u2193\n   TF Transform Tree\n   base \u2192 link_1 \u2192 link_2\n        \u2193\n   RViz Renderer\n        \u2193\n   3D View on Screen\n"})}),"\n",(0,r.jsx)(n.p,{children:"Each step transforms the data until you see the robot."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"try-it-yourself",children:"Try It Yourself"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Exercise 1"}),": Visualize simple_robot.urdf"]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Build the package: ",(0,r.jsx)(n.code,{children:"colcon build --packages-select simple_robot_description"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Source install: ",(0,r.jsx)(n.code,{children:"source install/setup.bash"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Launch: ",(0,r.jsx)(n.code,{children:"ros2 launch simple_robot_description display.launch.py"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Move the joint sliders\u2014does the robot move correctly?"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Exercise 2"}),": Find URDF Errors"]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Break the URDF: Change a parent link name in a joint"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Run ",(0,r.jsx)(n.code,{children:"check_urdf simple_robot.urdf"})," \u2014 what error appears?"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Fix it and validate again"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Exercise 3"}),": Visualize TF Tree"]}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","In RViz, add ",(0,r.jsx)(n.strong,{children:"TF"})," visualization"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","See the coordinate axes at each joint"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify that base_link \u2192 link_1 \u2192 link_2 sequence makes sense"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"RViz"})," visualizes robot structure without physics\n\u2705 ",(0,r.jsx)(n.strong,{children:"Gazebo"})," simulates with physics (gravity, collisions)\n\u2705 ",(0,r.jsx)(n.strong,{children:"TF (transforms)"})," connects all coordinate frames\n\u2705 Use ",(0,r.jsx)(n.code,{children:"check_urdf"})," to validate before visualizing\n\u2705 Visual and collision geometries should be similar\n\u2705 Joint axes must point the right direction\n\u2705 RViz errors usually mean URDF problems\u2014check with ",(0,r.jsx)(n.code,{children:"check_urdf"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"next-hands-on-exercises",children:"Next: Hands-On Exercises"}),"\n",(0,r.jsx)(n.p,{children:"Now it's time to practice! Create, modify, and debug your own URDF files."}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,r.jsx)(n.strong,{children:"Next"}),": ",(0,r.jsx)(n.a,{href:"/physical-ai-textbook/docs/module-1/ch2-urdf/exercises",children:"Exercises"})]}),"\n",(0,r.jsx)(n.p,{children:"Or review:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/physical-ai-textbook/docs/module-1/ch2-urdf/gazebo-properties",children:"Section 2: Gazebo Properties"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/physical-ai-textbook/docs/module-1/ch2-urdf/links-joints",children:"Section 1: Links and Joints"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/physical-ai-textbook/docs/module-1/ch2-urdf/",children:"Chapter 2 Intro"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Section Status"}),": Complete \u2705"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);